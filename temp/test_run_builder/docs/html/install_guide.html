<html><head><META http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>Parabuild 4.4</title><link href="ref.css" rel="stylesheet" type="text/css"><meta content="DocBook XSL Stylesheets V1.64.1" name="generator"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="book" lang="en"><div class="titlepage"><div><div><h1 class="title"><a name="N10001"></a>Parabuild 4.4</h1></div><div><h2 class="subtitle">Installation Guide</h2></div><div><p class="copyright">Copyright &copy; 2017 Parabuild CI</p></div></div><div></div><hr></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt><span class="preface"><a href="#N1000E">Preface</a></span></dt><dd><dl><dt><span class="sect1"><a href="#N10011">1. About This Manual</a></span></dt><dt><span class="sect1"><a href="#N10018">2. Audience</a></span></dt><dt><span class="sect1"><a href="#N1001D">3. Technical Support</a></span></dt></dl></dd><dt><span class="chapter"><a href="#N1003D">1. Installing Parabuild</a></span></dt><dt><span class="chapter"><a href="#N10044">2. System Requirements</a></span></dt><dd><dl><dt><span class="sect1"><a href="#N10049">2.1. Default Installation Directory</a></span></dt><dt><span class="sect1"><a href="#N1004E">2.2. CPU</a></span></dt><dt><span class="sect1"><a href="#N10053">2.3. Quantity of CPUs</a></span></dt><dt><span class="sect1"><a href="#N10058">2.4. Size of RAM</a></span></dt><dt><span class="sect1"><a href="#N10061">2.5. Disk Space</a></span></dt><dt><span class="sect1"><a href="#N1006D">2.6. Disk Speed</a></span></dt><dt><span class="sect1"><a href="#N10072">2.7. Networking</a></span></dt></dl></dd><dt><span class="chapter"><a href="#N10079">3. Installing Parabuild Under Windows</a></span></dt><dd><dl><dt><span class="sect1"><a href="#N10088">3.1. Starting Parabuild Service</a></span></dt><dt><span class="sect1"><a href="#N100B2">3.2. Stopping Parabuild Service</a></span></dt><dt><span class="sect1"><a href="#N100DA">3.3. Managing Parabuild Service from Program Group</a></span></dt><dt><span class="sect1"><a href="#N100E3">3.4. Post-Installation Actions</a></span></dt><dd><dl><dt><span class="sect2"><a href="#N100E8">3.4.1. ClearCase Considerations</a></span></dt><dt><span class="sect2"><a href="#N100F1">3.4.2. Devenv Considerations</a></span></dt><dt><span class="sect2"><a href="#N100FA">3.4.3. Visual SourceSafe Considerations</a></span></dt><dt><span class="sect2"><a href="#N10103">3.4.4. Adjusting Memory Size</a></span></dt><dt><span class="sect2"><a href="#N10118">3.4.5. Disabling Antivirus Software</a></span></dt></dl></dd><dt><span class="sect1"><a href="#N1011D">3.5. Changing Parabuild Service
      User</a></span></dt></dl></dd><dt><span class="chapter"><a href="#N10148">4. Installing Parabuild Under Linux</a></span></dt><dd><dl><dt><span class="sect1"><a href="#N1014D">4.1. Installing From Binary Distribution</a></span></dt><dd><dl><dt><span class="sect2"><a href="#N1015B">4.1.1. Disabling Setting User of Working Build Directories</a></span></dt></dl></dd><dt><span class="sect1"><a href="#N1016B">4.2. Installing From tar.gz Archive</a></span></dt></dl></dd><dt><span class="chapter"><a href="#N10177">5. Installing Under Solaris</a></span></dt><dt><span class="chapter"><a href="#N101A0">6. Installing Under Mac OS X</a></span></dt><dd><dl><dt><span class="sect1"><a href="#N101A3">6.1. Prerequisites</a></span></dt><dt><span class="sect1"><a href="#N101B1">6.2. Installing From Binary Distribution</a></span></dt><dt><span class="sect1"><a href="#N101BF">6.3. Starting Parabuild Daemon</a></span></dt><dt><span class="sect1"><a href="#N101D5">6.4. Stopping Parabuild Daemon</a></span></dt></dl></dd><dt><span class="chapter"><a href="#N101E9">7. Installing under Generic Unix</a></span></dt><dd><dl><dt><span class="sect1"><a href="#N101F2">7.1. Installing Java SDK 1.4.2</a></span></dt><dt><span class="sect1"><a href="#N101FB">7.2. Installing Parabuild From Generic Unix Distribution</a></span></dt><dt><span class="sect1"><a href="#N10209">7.3. Adjusting Startup Scripts</a></span></dt><dt><span class="sect1"><a href="#N1021C">7.4. Starting and Stopping Parabuild</a></span></dt></dl></dd><dt><span class="chapter"><a href="#N10230">8. Upgrading</a></span></dt><dt><span class="chapter"><a href="#N10241">9. Configuring builds</a></span></dt><dt><span class="chapter"><a href="#N10250">10. Running Parabuild in Remote Builder Mode</a></span></dt><dd><dl><dt><span class="sect1"><a href="#N10253">10.1. Prerequisites</a></span></dt><dd><dl><dt><span class="sect2"><a href="#N10256">10.1.1. Windows XP</a></span></dt></dl></dd><dt><span class="sect1"><a href="#N1025B">10.2. Installing Parabuild in Remote Builder Mode</a></span></dt><dt><span class="sect1"><a href="#N1029A">10.3. Enabling Running Build Agent as Administrator Under Windows</a></span></dt></dl></dd><dt><span class="chapter"><a href="#N102A7">11. Hard-to-guess Installation Problems</a></span></dt><dd><dl><dt><span class="sect1"><a href="#N102AC">11.1. Error "No X11 DISPLAY variable was set"</a></span></dt></dl></dd><dt><span class="chapter"><a href="#N102B7">12. Build Server Security Implications</a></span></dt></dl></div><div class="list-of-examples"><p><b>List of Examples</b></p><dl><dt>7.1. <a href="#N10221">Starting Parabuild Service Under Linux</a></dt><dt>7.2. <a href="#N10227">Stopping Parabuild Under Linux</a></dt><dt>8.1. <a href="#N1023C">Upgrading Parabuild Under Solaris</a></dt><dt>10.1. <a href="#N10292">Fragment of parabuild.conf for Parabuild running in remote
        agent mode</a></dt><dt>10.2. <a href="#N1029F">Fragment of parabuild.conf for Parabuild running as
        Administrator in remote agent mode</a></dt></dl></div><div class="preface" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="N1000E"></a>Preface</h2></div></div><div></div></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt><span class="sect1"><a href="#N10011">1. About This Manual</a></span></dt><dt><span class="sect1"><a href="#N10018">2. Audience</a></span></dt><dt><span class="sect1"><a href="#N1001D">3. Technical Support</a></span></dt></dl></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="N10011"></a>1.&nbsp;About This Manual</h2></div></div><div></div></div><p>This document provides the information you need to install and
      configure a Parabuild server as a stand-alone server or as a
      remote agent.</p><p>Parabuild (Parabuild) is an automated multi-platform
      software build management server. Parabuild provides automatic
      (integration) and scheduled builds. Automatic builds are fired upon
      every check-in or a group of check-ins into a project source line.
      Scheduled builds are fired at a configured time.</p></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="N10018"></a>2.&nbsp;Audience</h2></div></div><div></div></div><p>This guide is intended for anyone who is installing a Parabuild
      server or a remote agent on a computer running a supported version of
      Microsoft Windows, Linux or Unix. It assumes a basic knowledge of
      corresponding operating systems and their conventions.</p></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="N1001D"></a>3.&nbsp;Technical Support</h2></div></div><div></div></div><p>If you have any problems with the software or documentation,
      please contact Technical Support via online support forums,
      electronic mail, fax, or as described below. For information regarding
      other support information, click the Support link on the Web
      site at <a href="http://www.parabuildci.org" target="_top">www.parabuildci.org</a> .</p><div class="variablelist"><dl><dt><span class="term">Support Forum:</span></dt><dd><p><a href="http://forums.parabuildci.org/viewforum.php?f=1" target="_top">http://forums.parabuildci.org/viewforum.php?f=1</a></p></dd><dt><span class="term">Electronic Mail:</span></dt><dd><p><a href="mailto:support@parabuildci.org" target="_top">support@parabuildci.org</a></p></dd><dt><span class="term">Fax:</span></dt><dd><p>650-240-4455</p></dd></dl></div></div></div><div class="chapter" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="N1003D"></a>Chapter&nbsp;1.&nbsp;Installing Parabuild</h2></div></div><div></div></div><p>Parabuild distribution is available for many operating systems,
    including Windows, Linux, Solaris, Mac OS X, and other flavors of Unix.
    Following chapters talk about installing Parabuild for the specific
    operating systems. We assume that you have already downloaded a version
    suitable for your operating system.</p><p>The average time to install Parabuild, including post-installation
    tasks, is about five minutes.</p></div><div class="chapter" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="N10044"></a>Chapter&nbsp;2.&nbsp;System Requirements</h2></div></div><div></div></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt><span class="sect1"><a href="#N10049">2.1. Default Installation Directory</a></span></dt><dt><span class="sect1"><a href="#N1004E">2.2. CPU</a></span></dt><dt><span class="sect1"><a href="#N10053">2.3. Quantity of CPUs</a></span></dt><dt><span class="sect1"><a href="#N10058">2.4. Size of RAM</a></span></dt><dt><span class="sect1"><a href="#N10061">2.5. Disk Space</a></span></dt><dt><span class="sect1"><a href="#N1006D">2.6. Disk Speed</a></span></dt><dt><span class="sect1"><a href="#N10072">2.7. Networking</a></span></dt></dl></div><p>Parabuild is an integral part of the Application Lifecycle
    Management (ALM) infrastructure. A typical ALM infrastructure consists of
    a version control system, a bug or an issue tracking system, and a build
    server. Software build processes such as Continuous Integration and daily
    builds are highly IO, memory and computationally intensive. Dedicating
    adequate resources to Parabuild ensures efficient software development.</p><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="N10049"></a>2.1.&nbsp;Default Installation Directory</h2></div></div><div></div></div><p>A default installation directory under Windows is C:\parabuild. A
      default installation directory under Unix is /opt/parabuild.</p></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="N1004E"></a>2.2.&nbsp;CPU</h2></div></div><div></div></div><p>Build processes are usually dependent on the CPU. CPU speed for
      Parabuild should be at least equal to the speed of the fastest
      development machine. A better approach here would be to obtain the
      fastest CPU your budget could afford. Faster builds produce quicker
      feedback, thus providing greater timing and financial savings.</p></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="N10053"></a>2.3.&nbsp;Quantity of CPUs</h2></div></div><div></div></div><p>It is essential that Parabuild runs on a dedicated multiprocessor
      system. Multiprocessor systems are better suited to perform multiple
      computationally intensive tasks that build processes are. The quantity
      of CPUs depends on the number of the build configurations and percentage
      of time each build runs. It can be estimated as the sum of the total
      build time percentage divided by one hundred and rounded to the next
      two, four, eight, 16, or 32. For example, if Parabuild runs eight builds
      and each build runs 20% of the time, the quantity of CPUs needed for the
      server is two.</p></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="N10058"></a>2.4.&nbsp;Size of RAM</h2></div></div><div></div></div><p>Selecting the adequate size of the build server's RAM is
      important. In case of low physical memory builds can be slow because of
      swapping. The minimum amount of RAM can be estimated as the sum of RAM
      need to run each build plus RAM needed by a version control client
      running full checkout plus RAM needed by the operating system and system
      processes. We recommend multiplying the result by 1.2 coefficients to
      offset unaccounted factors. Example: let OS RAM is 120Mb, each build run
      needs 100Mb, and each client needs 1Mb. The minimal size of RAM is going
      to be <pre class="programlisting">(120Mb + 8*100Mb + 8*1Mb) * 1.2 = 1,113.6Mb</pre>
      or roughly 1Gb.</p></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="N10061"></a>2.5.&nbsp;Disk Space</h2></div></div><div></div></div><p>Free disk space needed on Parabuild machine depends on the number
      of build configurations, the number of build runs per day, and the size
      of build artifacts to be placed in the build archive after each build
      run. The estimated size of the needed free disk space in megabytes may
      be calculated by using this formula <pre class="programlisting">Sz = (Nbuilds * 2 * Bsize) + (Nbuilds * NRuns *Asize * 3 *365)</pre>
      Where Sz is minimum required disk space, Nbuilds is a quantity of build
      configurations, Bsize is disk space occupied by the code base, Nruns is
      a number of times build runs a day, Asize is disk space occupied by
      results placed in build archive. Example: consider a build server
      running 4 build configurations, each code base taking 200Mb when checked
      out; each build runs 10 times a day and stores 5Mb of logs and build
      artifacts each time; an archived items should be stored for a year. The
      estimated minimum disk space needed for this configuration would be
      <pre class="programlisting">220,600Mb = 4*2*200Mb + 4*10*5Mb*3*365</pre></p></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="N1006D"></a>2.6.&nbsp;Disk Speed</h2></div></div><div></div></div><p>Speed of the disk subsystem is an important factor affecting
      overall performance of a build server. Build processes are I/O intensive
      and more read than write &ndash;oriented. Typical writes/reads ratios range
      from 2 to 5. We recommend using a high-speed 10,000 or 15,000 rpm SCSI
      RAID-1 array under management of a quality RAID controller. RAID-1
      provides high-speed concurrent reads and writes while maintaining
      reliability of the disk subsystem. We do not recommend using RAID-5
      because of its significantly slower write speeds. If a high speed SCSI
      RAID-1 is not an option because of budget concerns, 7200 rpm IDE RAID-1
      is a minimal configuration.</p></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="N10072"></a>2.7.&nbsp;Networking</h2></div></div><div></div></div><p>Parabuild listens on port 8080. Certain applications and services
      such as Tomcat and Apache may also listen on port 8080. This may prevent
      Parabuild from starting up correctly. Make sure that no other services
      listen on port 8080.</p><p>It is important that Parabuild is connected to the rest of the ALM
      infrastructure through a high-speed local area network (LAN). Parabuild
      accesses a version control system to create local copies of the
      projects' code base to build and query for the latest changes. It
      can also access the issue tracking system to obtain release notes. Slow
      or congested LAN may significantly increase build roundtrip time if the
      size of the code base is significant (hundreds of megabytes). Ideally,
      Parabuild should be connected to the same network switch as the version
      control server is.</p></div></div><div class="chapter" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="N10079"></a>Chapter&nbsp;3.&nbsp;Installing Parabuild Under Windows</h2></div></div><div></div></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt><span class="sect1"><a href="#N10088">3.1. Starting Parabuild Service</a></span></dt><dt><span class="sect1"><a href="#N100B2">3.2. Stopping Parabuild Service</a></span></dt><dt><span class="sect1"><a href="#N100DA">3.3. Managing Parabuild Service from Program Group</a></span></dt><dt><span class="sect1"><a href="#N100E3">3.4. Post-Installation Actions</a></span></dt><dd><dl><dt><span class="sect2"><a href="#N100E8">3.4.1. ClearCase Considerations</a></span></dt><dt><span class="sect2"><a href="#N100F1">3.4.2. Devenv Considerations</a></span></dt><dt><span class="sect2"><a href="#N100FA">3.4.3. Visual SourceSafe Considerations</a></span></dt><dt><span class="sect2"><a href="#N10103">3.4.4. Adjusting Memory Size</a></span></dt><dt><span class="sect2"><a href="#N10118">3.4.5. Disabling Antivirus Software</a></span></dt></dl></dd><dt><span class="sect1"><a href="#N1011D">3.5. Changing Parabuild Service
      User</a></span></dt></dl></div><p>For Windows, a single Parabuild setup program is available. In order
    to begin installation, type this command in the Windows command prompt:</p><pre class="programlisting">
parabuild_4_3_windows.exe</pre><p>This will launch a graphical user interface (GUI) installer that
    will lead you through the rest of the installation process. As a part of
    the installation process, the set up program will offer to select a
    destination directory for Parabuild. The default directory is
    C:\parabuild. You can change it if necessary. We recommend leaving it as
    is.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>When installing Parabuild, please avoid using directories
      containing spaces or long names.</p></div><p>After the installation is complete, a program group named
    "Parabuild" will appear in your Programs menu. The program group
    contains links to installed Parabuild documentation.</p><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="N10088"></a>3.1.&nbsp;Starting Parabuild Service</h2></div></div><div></div></div><p>Parabuild is installed as a Windows service and is started
      automatically when the installation is complete. Parabuild service
      starts automatically when the Windows system is re-started.</p><p>It is possible to start Parabuild service manually if it is not
      running, for example because it was stopped before. To start Parabuild
      from the command line, follow the steps below:
      <div class="orderedlist"><ol type="1"><li><p>Press the "Start" button;</p></li><li><p>Click
      on "Run" menu item;</p></li><li><p>Type
      "cmd" in the "Open" field, a command shell will open;</p></li><li><p>Type
      "net start parabuild". This command will start Parabuild
      service.</p></li></ol></div></p><p>It is also possible to start Parabuild service using
      administrative interface: <div class="orderedlist"><ol type="1"><li><p>Press the
      "Start" button;</p></li><li><p>Click on
      "Settings" menu item, Windows control panel will open;</p></li><li><p>Click
      on "Administrative Tools" icon;</p></li><li><p>Click
      on "Services" icon, Services management window will open;</p></li><li><p>Find
      Parabuild in the list of services, right click on it, select
      "Start". Parabuild service will start.</p></li></ol></div></p></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="N100B2"></a>3.2.&nbsp;Stopping Parabuild Service</h2></div></div><div></div></div><p>It is possible to stop Parabuild service manually, for example to
      perform an upgrade. To stop Parabuild from the command line, follow the
      steps below: <div class="orderedlist"><ol type="1"><li><p>Press the "Start"
      button;</p></li><li><p>Click on "Run" menu
      item;</p></li><li><p>Type "cmd" in the
      "Open" field, a command shell will open;</p></li><li><p>Type
      "net stop Parabuild". This command will stop Parabuild service.</p></li></ol></div></p><p>It is also possible to stop Parabuild service using administrative
      interface: <div class="orderedlist"><ol type="1"><li><p>Press the "Start"
      button;</p></li><li><p>Click on "Settings"
      menu item, Windows control panel will open;</p></li><li><p>Click
      on "Administrative Tools" icon;</p></li><li><p>Click
      on "Services" icon, Services management window will open;</p></li><li><p>Find
      Parabuild in the list of services, right click on it, select
      "Stop". Parabuild service will stop.</p></li></ol></div></p></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="N100DA"></a>3.3.&nbsp;Managing Parabuild Service from Program Group</h2></div></div><div></div></div><p>In addition to using Windows Services to manage Parabuild service,
      Parabuild allows to start and stop Parabuild service directly from
      Parabuild program group:<div class="mediaobject"><img src="start_stop_from_menu.gif"></div></p></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="N100E3"></a>3.4.&nbsp;Post-Installation Actions</h2></div></div><div></div></div><p>Some environments require manual actions to be taken after the
      installation of Parabuild is completed. Below you can find
      considerations for such environments.</p><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="N100E8"></a>3.4.1.&nbsp;ClearCase Considerations</h3></div></div><div></div></div><p>To access ClearCase, a user that Parabuild service runs as
        should be changed from a default user to a valid domain user. Please
        check section <a href="#changing_parabuild_service_user">Changing
        Parabuild Service User</a> for instructions.</p></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="N100F1"></a>3.4.2.&nbsp;Devenv Considerations</h3></div></div><div></div></div><p>For devenv to function properly, a user that Parabuild service
        runs as should be changed from a default user to a valid domain user.
        Please check section <a href="#changing_parabuild_service_user">Changing
        Parabuild Service User</a> for instructions.</p></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="N100FA"></a>3.4.3.&nbsp;Visual SourceSafe Considerations</h3></div></div><div></div></div><p>To access Visual SourceSafe, a user that Parabuild service runs
        as should be changed from a default user to a valid domain user. Such
        user should have adequate rights to access a Visual SourceSafe
        database on your network. Please check section <a href="#changing_parabuild_service_user">Changing Parabuild Service
        User</a> for instructions.</p></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="N10103"></a>3.4.4.&nbsp;Adjusting Memory Size</h3></div></div><div></div></div><p>The default size of the memory allocated to Parabuild is 60
        Megabytes. This value maybe too low for some environments. Under
        Windows, it is possible to change this value to a higher number. To
        change the size of the memory avalable to Parabuild, edit file
        <tt class="filename">parabuild.vmoptions</tt> under <tt class="filename">bin</tt>
        directory and chage option <tt class="filename">-Xmx60m</tt>. For example,
        to allocate 500 Megabytes to Parabuild, this option should be equal
        <tt class="filename">-Xmx500m</tt>. Parabuild service needs to be restarted
        for changes to take effect.</p></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="N10118"></a>3.4.5.&nbsp;Disabling Antivirus Software</h3></div></div><div></div></div><p>We recommend disabling antivirus software for the
          directory where Parabuild is installed. Running antivirus software
          on Parabuild installation may cause significant degradation of
          performance. If complete disabling of antivirus software is impossible,
          the following directory should be excluded from antivirus scanning:
          &lt;Parabuild home&gt;/etc/data.</p></div></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="N1011D"></a>3.5.&nbsp;Changing Parabuild Service
      User</h2></div></div><div></div></div><p>By default, Parabuild service runs as a user with name
      "LocalSystem". Certain version control and build scripting
      systems require their clients to run as a domain user rather than
      "LocalSystem". To change a user Parabuild service runs as,
      follow the steps below:</p><p><div class="orderedlist"><ol type="1"><li><p>Press the "Start" button;</p></li><li><p>Click
      on "Settings" menu item, Windows control panel will open;</p></li><li><p>Click
      on "Administrative Tools" icon;</p></li><li><p>Click
      on "Services" icon, Services management window will open;</p></li><li><p>Find
      Parabuild in the list of services, right click on it, select
      "Properties" menu item;</p></li><li><p>Select
      "Log On" tab;</p></li><li><p>Select "This
      account" radio button.</p></li><li><p>Enter a user
      name, an optional domain name and a password.</p></li><li><p>Press
      "OK" button.</p></li><li><p>Stop and start
      Parabuild service to activate the changes.</p></li></ol></div></p><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Important</h3><p>When changing a user under Windows Server 2003, use format
        DOMAIN\user.</p></div></div></div><div class="chapter" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="N10148"></a>Chapter&nbsp;4.&nbsp;Installing Parabuild Under Linux</h2></div></div><div></div></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt><span class="sect1"><a href="#N1014D">4.1. Installing From Binary Distribution</a></span></dt><dd><dl><dt><span class="sect2"><a href="#N1015B">4.1.1. Disabling Setting User of Working Build Directories</a></span></dt></dl></dd><dt><span class="sect1"><a href="#N1016B">4.2. Installing From tar.gz Archive</a></span></dt></dl></div><p>In order to install Parabuild, you need to log in as a root. It is
    necessary because the Parabuild installer will create a daemon that will
    start upon the build box startup. Also, post-installations tasks for
    Parabuild may require root privileges.</p><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="N1014D"></a>4.1.&nbsp;Installing From Binary Distribution</h2></div></div><div></div></div><p>The installation of Parabuild is simple. To install Parabuild,
      start a shell, cd to a directory where installer file is located and
      type this command:</p><pre class="programlisting">sudo mkdir /opt/parabuild
sudo sh parabuild_4_3_linux.sh -q</pre><p>Please note using "-q" switch. This switch asks Parabuild
      installer not to launch the installation process in a graphical mode. We
      recommend to use this switch whenever Parabuild installation is
      performed from a remote terminal. Once the installer finishes the
      execution, Parabuild is installed in the <tt class="filename">/opt/parabuild</tt>
      directory.</p><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="N1015B"></a>4.1.1.&nbsp;Disabling Setting User of Working Build Directories</h3></div></div><div></div></div><p>When upgrading, Parabuild automatically changes the ownership of working
          build directories to user <tt class="filename">parabuild</tt> to ensure that the
          build directories have a proper ownership. While this is the safest mode of
          installing an upgrade, the operation of changing the user can be time
          consuming on bigger working build directories. To disable changing the user,
          use option <tt class="filename">-Dparabuild.chown.build.dirs=no</tt>.
        </p><pre class="programlisting">sudo mkdir /opt/parabuild
sudo sh parabuild_4_3_linux.sh -q -Dparabuild.chown.build.dirs=no</pre></div></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="N1016B"></a>4.2.&nbsp;Installing From tar.gz Archive</h2></div></div><div></div></div><p>Installing Parabuild from tar.gz archive consists of creating a
      Parabuild installation directory and extracting the Parabuild
      distribution to the installation directory using the tar archiving
      utility.</p><p>Start a shell and execute the following commands:</p><pre class="programlisting">
mkdir /opt/parabuild
tar -Zxf parabuild_4_3_linux.tar.gz -C /opt</pre><p>To complete installation, please proceed to the Post-installation
      Tasks chapter.</p></div></div><div class="chapter" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="N10177"></a>Chapter&nbsp;5.&nbsp;Installing Under Solaris</h2></div></div><div></div></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>Parabuild installation creates a home directory for
      <tt class="filename">parabuild</tt> user under <tt class="filename">/home</tt> .
      Newly installed Solaris 9 and 10 systems may not allow to do so because
      <tt class="filename">/home</tt> is controlled by the automounter. Before
      installing make sure that <tt class="filename">/home</tt> is not under the
      control of automountd. Either edit the / <tt class="filename">etc/auto_master</tt>
      or <tt class="filename">/etc/auto_home</tt> or stop the automountd service
      from running.</p></div><p>To install Parabuild, start a shell, cd to a directory where
    installer file is located and type this command:</p><pre class="programlisting">
sudo mkdir /opt/parabuild
sudo sh parabuild_4_3_solaris.sh -q</pre><p>When installer finishes execution, Parabuild is installed in
    <tt class="filename">/opt/parabuild</tt> directory.</p></div><div class="chapter" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="N101A0"></a>Chapter&nbsp;6.&nbsp;Installing Under Mac OS X</h2></div></div><div></div></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt><span class="sect1"><a href="#N101A3">6.1. Prerequisites</a></span></dt><dt><span class="sect1"><a href="#N101B1">6.2. Installing From Binary Distribution</a></span></dt><dt><span class="sect1"><a href="#N101BF">6.3. Starting Parabuild Daemon</a></span></dt><dt><span class="sect1"><a href="#N101D5">6.4. Stopping Parabuild Daemon</a></span></dt></dl></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="N101A3"></a>6.1.&nbsp;Prerequisites</h2></div></div><div></div></div><p><div class="itemizedlist"><ul type="disc"><li><p>Parabuild is installed on Mac OS X
      10.2.x ("Jaguar") and up using a Mac OS X binary package in PKG
      format. Please note that older versions of Mac OS X (for example,
      10.1.x) are not supported by this package.</p></li><li><p>To
      be installed on Mac OS X, Parabuild requires that Java SDK version 1.4.2
      is available on a machine that will run Parabuild.</p></li></ul></div></p><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Important</h3><p>If you are upgrading Parabuild, first stop Parabuild daemon and
        perform a full back up of the Parabuild installation directory.</p></div></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="N101B1"></a>6.2.&nbsp;Installing From Binary Distribution</h2></div></div><div></div></div><p>The installation of Parabuild from binary distribution is simple.
      To install Parabuild, start a terminal, cd to a directory where
      installer file is located and type this command:</p><pre class="programlisting">
sudo sh parabuild_4_3_mac_osx.sh -q</pre><p>Please note using "-q" switch. This switch asks Parabuild
      installer not to launch the installation process in a graphical mode. We
      recommend to use this switch whenever Parabuild installation is
      performed from a terminal. Once the installer finishes the execution,
      Parabuild is installed in the <tt class="filename">/usr/local/parabuild</tt>
      directory.</p></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="N101BF"></a>6.3.&nbsp;Starting Parabuild Daemon</h2></div></div><div></div></div><p>Parabuild is installed as a Mac OS X startup item. To start
      Parabuild daemon manually if it is not running follow the steps below:
      <div class="orderedlist"><ol type="1"><li><p>Open Terminal.</p></li><li><p>Type
      <tt class="filename">sudo /Library/StartupItems/Parabuild/Parabuild start</tt></p></li><li><p>Enter
      su's password</p></li></ol></div></p><p>Parabuild daemon starts automatically when the Mac OS X system is
      re-started.</p></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="N101D5"></a>6.4.&nbsp;Stopping Parabuild Daemon</h2></div></div><div></div></div><p>To stop Parabuild daemon manually if it is running follow the
      steps below: <div class="orderedlist"><ol type="1"><li><p>Open Terminal.</p></li><li><p>Type
      <tt class="filename">sudo /Library/StartupItems/Parabuild/Parabuild stop</tt></p></li><li><p>Enter
      su's password</p></li></ol></div></p></div></div><div class="chapter" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="N101E9"></a>Chapter&nbsp;7.&nbsp;Installing under Generic Unix</h2></div></div><div></div></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt><span class="sect1"><a href="#N101F2">7.1. Installing Java SDK 1.4.2</a></span></dt><dt><span class="sect1"><a href="#N101FB">7.2. Installing Parabuild From Generic Unix Distribution</a></span></dt><dt><span class="sect1"><a href="#N10209">7.3. Adjusting Startup Scripts</a></span></dt><dt><span class="sect1"><a href="#N1021C">7.4. Starting and Stopping Parabuild</a></span></dt></dl></div><p>Currently Parabuild distribution packages for the following
    operating systems do not require installation of additional software:
    32-bit Windows x86, 32-bit Linux x86, Solaris Sparc and HP-UX 11 PA-RISC.</p><p>To be installed on other Unix flavors such as FreeBSD, Parabuild
    requires that Java SDK version 1.4.2 is available on a machine that will
    run Parabuild. A generic Unix Parabuild distribution should be used for
    such operating systems.</p><p>Installing Parabuild from generic distribution consists of
    installing Java SDK version 1.4.2, installing Parabuild itself, and
    adjusting the Parabuild startup scripts to point to Java SDK location.
    These steps are considered in detail below.</p><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="N101F2"></a>7.1.&nbsp;Installing Java SDK 1.4.2</h2></div></div><div></div></div><p>If you do not have Java SDK 1.4.2 already installed, download it
      and install it with the following installation instructions provided by
      your Java SDK vendor. Make a record of Java SDK installation home. For
      instance, it may look like <tt class="filename">/opt/j2sdk1.4.2_03</tt> .</p></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="N101FB"></a>7.2.&nbsp;Installing Parabuild From Generic Unix Distribution</h2></div></div><div></div></div><p>To install Parabuild, start a shell, cd to a directory where
      installer file is located and type this command:</p><pre class="programlisting">
sudo mkdir /opt/parabuild
sudo sh parabuild_4_3_generic_unix.sh -q</pre><p>When installer finishes execution, Parabuild is installed in
      <tt class="filename"> /opt/parabuild</tt> directory.</p></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="N10209"></a>7.3.&nbsp;Adjusting Startup Scripts</h2></div></div><div></div></div><p>Parabuild startup scripts need to know the location of the Java
      SDK. Go to /opt/parabuild/bin directory and modify parabuild.sh and
      parabuild shell scripts by adding the following lines right after the
      header comment lines:</p><pre class="programlisting">
JAVA_HOME=&lt;path to Java installation home&gt; export JAVA_HOME</pre><p>If Java is installed in <tt class="filename">/opt/j2sdk1.4.2_03</tt> ,
      the added line would look like this:</p><pre class="programlisting">
JAVA_HOME=/opt/j2sdk1.4.2_03 export JAVA_HOME</pre><p>To complete the installation, please proceed to Unix
      Post-installation Tasks chapter.</p></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="N1021C"></a>7.4.&nbsp;Starting and Stopping Parabuild</h2></div></div><div></div></div><p>Once the installation is complete and secured, you can start or
      stop Parabuild service using the created daemon commands according to
      the paths to startup scripts for the target operating system.</p><div class="example"><a name="N10221"></a><p class="title"><b>Example&nbsp;7.1.&nbsp;Starting Parabuild Service Under Linux</b></p><pre class="programlisting">
/etc/init.d/parabuild start</pre></div><div class="example"><a name="N10227"></a><p class="title"><b>Example&nbsp;7.2.&nbsp;Stopping Parabuild Under Linux</b></p><pre class="programlisting">
/etc/init.d/parabuild stop</pre></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>Normally Parabuild runs a few external process, so clearing them
        up may take few seconds.</p></div></div></div><div class="chapter" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="N10230"></a>Chapter&nbsp;8.&nbsp;Upgrading</h2></div></div><div></div></div><p><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Important</h3><p>Always stop the Parabuild server before upgrading.
    Performing an upgrade operation while the Parabuild server is running may
    render it unusable.</p></div> <div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Important</h3><p>Always perform a
    full back up of the Parabuild installation before upgrading. Though the
    Parabuild installer handles upgrade tasks automatically, unforeseen
    conditions may hinder the installation process and leave Parabuild
    installation in a incomplete state.</p></div> To upgrade, just
    run the binary installer for the targeted operating system. Parabuild
    installation process will preserve all modifications.</p><div class="example"><a name="N1023C"></a><p class="title"><b>Example&nbsp;8.1.&nbsp;Upgrading Parabuild Under Solaris</b></p><p>sudo sh parabuild_4_3_solaris_sparc.sh -q</p></div></div><div class="chapter" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="N10241"></a>Chapter&nbsp;9.&nbsp;Configuring builds</h2></div></div><div></div></div><p>After you have completed installation and started Parabuild, you may
    begin configuring builds. You should be able to access. Suppose you
    installed Parabuild at a machine with the network name BUILD. Then you
    would be able to access Parabuild at the URL</p><pre class="programlisting">
http://build:8080/parabuild/admin/builds.htm</pre><p>A public build status page would be available for the members of
    your engineering team at the URL</p><pre class="programlisting">
http://build:8080/parabuild/index.htm</pre><p>The default administrative password is "admin". Parabuild
    Administrator's Guide describes build administration in detail.</p></div><div class="chapter" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="N10250"></a>Chapter&nbsp;10.&nbsp;Running Parabuild in Remote Builder Mode</h2></div></div><div></div></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt><span class="sect1"><a href="#N10253">10.1. Prerequisites</a></span></dt><dd><dl><dt><span class="sect2"><a href="#N10256">10.1.1. Windows XP</a></span></dt></dl></dd><dt><span class="sect1"><a href="#N1025B">10.2. Installing Parabuild in Remote Builder Mode</a></span></dt><dt><span class="sect1"><a href="#N1029A">10.3. Enabling Running Build Agent as Administrator Under Windows</a></span></dt></dl></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="N10253"></a>10.1.&nbsp;Prerequisites</h2></div></div><div></div></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="N10256"></a>10.1.1.&nbsp;Windows XP</h3></div></div><div></div></div><p>Parabuild uses a custom protocol to access remote builders.
        Parabuild needs port number 8080 open on a Windows XP machine. If this
        is a stock Windows XP, the firewall is on and the port is closed. Open
        the port. After installing Parabuild in the remote agent mode, make
        sure you can telnet port 8080 on the XP machine from the build manager
        machine.</p></div></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="N1025B"></a>10.2.&nbsp;Installing Parabuild in Remote Builder Mode</h2></div></div><div></div></div><p>Parabuild can run in two modes: as a build manager mode or as
      remote agent. By default the Parabuild installation is set to run in the
      build manager mode. This chapter describes actions that need to be taken
      to set Parabuild up to run in a remote agent mode.</p><div class="variablelist"><dl><dt><span class="term">Build manager mode</span></dt><dd><p>In the build manager mode Parabuild:</p><div class="itemizedlist"><ul type="disc"><li><p>Serves web user interface requests.</p></li><li><p>Maintains build archive</p></li><li><p>Runs local and remote builds</p></li><li><p>Sends build notifications.</p></li></ul></div></dd><dt><span class="term">Remote agent mode</span></dt><dd><p>In addition to running builds locally, Parabuild can run
            builds remotely on machines other than the one the build manager
            is installed on. Running builds remotely may offer the following
            benefits:</p><div class="itemizedlist"><ul type="disc"><li><p>Remote builds allow to run builds on a variety of
                platforms yet to have an access to the build results at a
                single entry point (build manager).</p></li><li><p>Remote builds allow to partition the load by moving CPU
                and IO load off the build manager.</p></li><li><p>Remote builds allow to create more secure build
                infrastructure so that build scripts are not executed at the
                build manager box.</p></li></ul></div></dd></dl></div><p>To set up Parabuild to run as a remote agent, follow the standard
      installation procedure described earlier. Once the installation is
      complete, modify the Parabuild configuration file <tt class="filename">&lt;Parabuild
      installation directory&gt;/etc/system/parabuild.conf</tt> .
      Modify or set the property <tt class="filename">parabuild.build.manager.ipaddress</tt>
      in the configuration file by assigning an IP address of the machine
      running Parabuild in the build manager mode. With <tt class="filename">parabuild.build.manager.ipaddress</tt>
      set Parabuild will start in the remote agent mode.</p><div class="example"><a name="N10292"></a><p class="title"><b>Example&nbsp;10.1.&nbsp;Fragment of parabuild.conf for Parabuild running in remote
        agent mode</b></p><pre class="programlisting">
parabuild.build.manager.ipaddress=192.168.123.2</pre></div><p>A build manager can run builds on multiple remote builders. A
      remote agent will serve as single build manager with the configured IP
      address only. The remote agent will accept requests coming from local
      addresses only, i.e. those starting with 192.168.*, 10.*, 172.16.*,
      169.254.* and 127.0.0.1.</p></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="N1029A"></a>10.3.&nbsp;Enabling Running Build Agent as Administrator Under Windows</h2></div></div><div></div></div><p>Some environments require running a remote build agent as
      Administrator user. Before, Parabuild prohibited this configuration.
      Parabuild 4.0 introduced an ability to enable the remote build agent to
      run as Administrator by adding the following line to the Parabuild
      configuration file &lt;Parabuild installation
      directory&gt;/etc/system/parabuild.conf on the remote build agent:</p><div class="example"><a name="N1029F"></a><p class="title"><b>Example&nbsp;10.2.&nbsp;Fragment of parabuild.conf for Parabuild running as
        Administrator in remote agent mode</b></p><pre class="programlisting">
parabuild.allow.administrator.user=true</pre></div><p>Parabuild service on the remote agent machines needs to be
      restarted to activate the change.</p></div></div><div class="chapter" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="N102A7"></a>Chapter&nbsp;11.&nbsp;Hard-to-guess Installation Problems</h2></div></div><div></div></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt><span class="sect1"><a href="#N102AC">11.1. Error "No X11 DISPLAY variable was set"</a></span></dt></dl></div><p>This chapter covers some environment-dependent installation problems
    that can be hard to resolve by applying common sense.</p><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="N102AC"></a>11.1.&nbsp;Error "No X11 DISPLAY variable was set"</h2></div></div><div></div></div><p>Parabuild installer can throw an exception "<span class="emphasis"><em>No X11
      DISPLAY variable was set, but this program performed an operation which
      requires it</em></span>" when the graphical installer (default mode)
      is run from a remote terminal without X support. The solution is to run
      the installer using batch mode with the -q switch:</p><pre class="programlisting">sudo mkdir /opt/parabuild
sudo sh parabuild_4_3_linux.sh -q</pre></div></div><div class="chapter" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="N102B7"></a>Chapter&nbsp;12.&nbsp;Build Server Security Implications</h2></div></div><div></div></div><p>Security implications of running a build server are significantly
    different from ones for other components of the software change management
    (SCM) infrastructure, namely version control systems and the issue or bug
    trackers. What the control users of such servers have is usually limited
    to secured user interface fronts. As a result, securing such servers is a
    relatively simple task because version control systems and issue trackers
    generally do not allow running arbitrary commands on the hosts running
    such servers.</p><p>Unlike version control and issue tracking systems, <span class="bold"><b>build servers are inherently insecure because the main task of
    a build server is running arbitrary shell commands controlled by users</b></span>
    , directly or by invoking scripting languages or tools such as Perl, make
    or ANT. Such commands perform file and network operations that alter the
    file system, and they also access various local and network resources as
    part of normal operations. Thus, build servers are inherently insecure.
    This is generally not a problem in a controlled or trusted environment of
    a software organization where the employees are usually not considered a
    security threat.</p><p>Running a build server in uncontrolled or untrustworthy environments
    may present a serious security challenge. In the uncontrolled environment
    malicious users can easily modify build scripts in a version control
    system to perform tasks presenting various security threats ranging from
    access to sensitive data to the disclosure of security arrangements that
    might compromise the surrounding security infrastructure.
    <div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Important</h3><p>Understand that build servers do run user-controlled
    shell commands and scripts. <span class="bold"><b>Do not run
    Parabuild if one of these apply to you SCM infrastructure:</b></span></p><p>1.
    <span class="bold"><b>Your version control system allows anonymous write
    access to your project source line</b></span> ;</p><p>2. <span class="bold"><b>Untrustworthy persons have write access to project your source
    line</b></span> ;</p><p>3. <span class="bold"><b>There is no gate
    keeping process for anonymous or untrustworthy submissions and checkins</b></span>
    .</p></div></p></div></div></body></html>